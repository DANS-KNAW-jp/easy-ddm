#
# EASY SWORD-based Ingest Service configuration file
#
# Please, modify the configuration below to match your environment. At the very least,
# you will need to fill in the places starting with ### below. Notice the 
# additional comments about what values to fill in.
#
# If all supporting services are located on the same host (using default ports) fill in
# the hostname here (e.g. 'localhost' for the same host as easy-sword).  Otherwise change
# the instances of ${easy.host} below appropriately. 
easy.host=localhost

# OpenLDAP user database
ldap.providerURL=ldap://${easy.host}:389
ldap.securityPrincipal=cn=ldapadmin,dc=dans,dc=knaw,dc=nl
ldap.securityCredentials=###password:ldapadmin###
ldap.context.users=ou=users,ou=easy,dc=dans,dc=knaw,dc=nl
ldap.context.groups=ou=groups,ou=easy,dc=dans,dc=knaw,dc=nl
ldap.context.migration=ou=migration,ou=easy,dc=dans,dc=knaw,dc=nl
ldap.context.federation=ou=federation,ou=easy,dc=dans,dc=knaw,dc=nl

# Federation login support
easy.federationLogin.enabled=false
easy.federationLogin.debug.enabled=false
easy.federationLogin.debug.user.file=/tmp/feduser.properties
#
# The URL used to start a federated login procedure using Shibboleth
easy.federationLogin.federationUrl=###shibboleth-login-command###
easy.federationLogin.propertyMapping.shibSessionId=Shib_Session_ID
#
# globally unique ID for the federation account, used to map the federation account to an EASY account. This should
# normally be the standard REMOTE_USER CGI var.
easy.federationLogin.propertyMapping.remoteUser=Shib_eduPersonPN
easy.federationLogin.propertyMapping.email=Shib_email
easy.federationLogin.propertyMapping.firstName=Shib_givenName
easy.federationLogin.propertyMapping.surname=Shib_surName
easy.federationLogin.propertyMapping.organization=Shib_HomeOrg

# Fedora Resource Index
fedora.ri.url=http://${easy.host}:8080/fedora/risearch

# Fedora server
easy.store.name=easy_local
fedora.base.url=http://${easy.host}:8080/fedora
fedora.admin.username=easy_sword
fedora.admin.userpass=###password:easy_sword###

# Easy database
fedora.db.username=easy_sword
fedora.db.password=###password:easy_sword###
fedora.db.connectionUrl=jdbc:postgresql://${easy.host}:5432/easy_db
fedora.db.hbnDriverClass=org.postgresql.Driver
fedora.db.hbnDialect=org.hibernate.dialect.PostgreSQLDialect

# Persistent Identifier Generator
# developers should use localhost and
# run mvn goal "jetty:run" on project pid-generator with JVM arguments: -Djetty.port=8082
pid.service.base.url=http://${easy.host}:8082

# SORL search index
solr.url=http://${easy.host}:8080/solr

# Audit
business.audit.enabled=false
business.audit.file=

# Host running the SMTP service
mail.smtp.host=${easy.host}
#
# The e-mail address to show as sender in automatic E-mails
mail.fromAddress=###mail.fromAddress###
#
# Comma-separated list of e-mail addresses to send a copy of all notification 
# mails to users.  This can be used to debug problems with automatic mails.
# Leave blank if no BCC-mails are required
mail.bccs=###mail.bccs###

# When to send admin mails
admin.mailer.sendOnStarting=false
admin.mailer.sendOnClosing=false
#
# Comma-separated list of e-mail addresses to send admin mails to 
admin.mailer.addresses=###admin.mailer.addressess###

# Limits in MB and number of files to download 
data.downloadLimit=1000
file.downloadLimit=100

# Location of the content that is editable through the Web UI. It is HIGHLY RECOMMENDED
# that you copy the example initial content in ${EASY_WEBUI_HOME}/res/example/editable to 
# a location outside the installation directory and modify below property to point to that
# direction.  Notice also that this new location mus be writeable by the Linux user running
# Tomcat.  
easy.editable.content.root=${EASY_WEBUI_HOME}/res/example/editable

# Location of the file that store the read-only status of EASY. This should point
# to a writable location, but it is not necessary for the file to exist; EASY will
# create it.
easy.business.system.status.file=/var/cache/tomcat6/temp/easy-readonly-status.txt

#
# SWORD specific (Needs cleaning up)
#

# should be identical to web-xml value
sword.servlet.name = sword

# for service document and deposit response
sword.providerURL = http://localhost:8083/
easy.sword.server.easy.home=http://localhost:8083/ui/

# deposit response
easy.sword.server.dataset.path=http://localhost:8081/ui/datasets/id/

# for service document (No HTML for the titles. On production: move the first phrase of the treatment to the policy?)
easy.sword.server.workspace.title=DANS sword interface
easy.sword.server.collection.title=EASY
easy.sword.server.collection.abstract=Electronic Archive System, accepts deposits by users registered on <a href="{0}">EASY</a>
easy.sword.server.collection.policy=<strong>THIS IS A TEST SERVER!</strong> No guarantee of service, or that deposits will be retained for any length of time.
easy.sword.server.collection.treatment=DANS will store deposited data according to the guidelines of the international <a href="http://www.datasealofapproval.org/">Data Seal of Approval</a>. After several workdays the data will be available to other researchers, in accordance with the conditions indicated by you and DANS. At the DANS website you'll find more information on <a href="http://www.dans.knaw.nl/en/content/data-archive/depositing-data">depositing data</a>.

# for deposit response (Do not change for production. Treatment place holders: EasyUser.get*, Dataset.get*)
easy.sword.server.deposit.treatment=A confirmation of the deposit has been sent to ~EasyUser.getEmail~ . DANS will store deposited data according to the guidelines of the international <a href="http://www.datasealofapproval.org/">Data Seal of Approval</a>. After several workdays the data will be available to other researchers, in accordance with the conditions indicated by you and DANS. At the DANS website you'll find more information on <a href="http://www.dans.knaw.nl/en/content/data-archive/depositing-data">depositing data</a>.

easy.sword.server.unzip.dir=target/tmp/

easy.web.server.port.http=80
easy.web.server.port.https=443

sword.audit.file=/var/log/easy-sword/audit.log